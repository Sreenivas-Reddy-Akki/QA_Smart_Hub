{% extends "base.html" %}
{% block title %}Automation Intermediate Reference{% endblock %}
{% block content %}

<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Automation Intermediate Reference</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* === Custom Scrollbar === */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-thumb { background: #22d3ee; border-radius: 4px; }
    ::-webkit-scrollbar-track { background: #0f172a; }

    body {
      background: #0f172a;
      color: #e2e8f0;
      font-family: 'Inter', sans-serif;
      scroll-behavior: smooth;
    }

    /* === Floating Buttons === */
    .float-btn {
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 9999px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.4);
      transition: transform 0.2s, background-color 0.3s;
    }
    .float-btn:hover { transform: scale(1.05); }

    /* === Floating Menu (Toggle Navigation) === */
    #side-nav {
      position: fixed;
      top: 0;
      left: 0;
      height: 100%;
      width: 280px;
      background-color: rgba(15, 23, 42, 0.98);
      backdrop-filter: blur(8px);
      padding: 24px;
      transform: translateX(-100%);
      transition: transform 0.3s ease-in-out;
      z-index: 50;
      overflow-y: auto;
      border-right: 1px solid #334155;
    }

    #side-nav.active {
      transform: translateX(0);
    }

    #side-nav a {
      display: block;
      padding: 10px 12px;
      color: #94a3b8;
      font-weight: 500;
      border-radius: 8px;
      margin-bottom: 6px;
      transition: 0.2s;
    }

    #side-nav a:hover {
      color: #22d3ee;
      background-color: #1e293b;
    }

    #side-nav a.active {
      color: #22d3ee;
      font-weight: 700;
      background-color: #1e293b;
    }

    /* === Backdrop === */
    #backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(3px);
      display: none;
      z-index: 40;
    }
  </style>
</head>

<body class="min-h-screen">

  <!-- Floating Control Buttons -->
  <div class="fixed top-24 left-6 flex flex-col space-y-3 z-50">
    <!-- Back Button -->
    <button id="back-btn" class="float-btn bg-slate-800 hover:bg-slate-700 text-cyan-400">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293
        3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0
        010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
      </svg>
    </button>

    <!-- Menu Toggle -->
    <button id="menu-btn" class="float-btn bg-cyan-600 hover:bg-cyan-500 text-white">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>

  <!-- Backdrop -->
  <div id="backdrop"></div>

  <!-- Sidebar Navigation -->
  <aside id="side-nav">
    <h2 class="text-2xl font-bold text-cyan-400 mb-6 border-b border-slate-700 pb-2">Automation Topics</h2>
    <nav>
      <a href="#topic1">1Ô∏è‚É£ Advanced WebDriver</a>
      <a href="#topic2">2Ô∏è‚É£ Waits & Synchronization</a>
      <a href="#topic3">3Ô∏è‚É£ Page Object Model (POM)</a>
      <a href="#topic4">4Ô∏è‚É£ Data-Driven Testing</a>
      <a href="#topic5">5Ô∏è‚É£ Framework Concepts</a>
      <a href="#topic6">6Ô∏è‚É£ Pytest / TestNG Basics</a>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="max-w-8xl mx-auto px-4 sm:px-8 py-10 space-y-20">

    <header>
      <h1 class="text-5xl font-extrabold text-cyan-400 mb-3">Automation Intermediate Reference</h1>
      <p class="text-slate-400 text-lg">Transition from basic scripting to robust framework-level automation design.</p>
    </header>


            <!-- ================= Page Intro ================= -->

            <!-- Content Grid --><div class="grid grid-cols-1 gap-8">

                <!-- üß† TOPIC 1: Advanced WebDriver --><article id="topic1" class="content-section bg-slate-800 rounded-xl shadow-xl p-8 fade-in hover-glow border border-slate-700">
                    <h3 class="text-2xl font-bold mb-4 text-cyan-400">1Ô∏è‚É£ Advanced WebDriver: Multi-Window & Execution</h3>
                    <p class="text-slate-300 mb-6">
                        Advanced <strong>WebDriver</strong> techniques help you handle browser actions like multiple tabs/windows, JavaScript execution, and managing cookies efficiently.
                    </p>

                    <div class="grid lg:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold text-slate-200 mb-3">Python Example (Switching Tabs)</h4>
                            <pre class="bg-slate-950 text-emerald-300 text-sm p-4 rounded-lg overflow-x-auto border border-slate-700/50">
from selenium import webdriver
# NOTE: driver initialization and setup is assumed before this block
# driver = webdriver.Chrome()
# driver.get("https://example.com")

# Open a new tab using JavaScript executor
driver.execute_script("window.open('https://google.com')")
windows = driver.window_handles

# Switch to the new tab (index 1)
driver.switch_to.window(windows[1])
print(f"Now on: {driver.title}")
# driver.quit() # Uncomment in full script
                            </pre>
                        </div>

                        <div>
                            <h4 class="font-semibold text-slate-200 mb-3">Java Example (Switching Tabs)</h4>
                            <pre class="bg-slate-950 text-emerald-300 text-sm p-4 rounded-lg overflow-x-auto border border-slate-700/50">
import org.openqa.selenium.JavascriptExecutor;
import java.util.Set;
import java.util.ArrayList;
import java.util.List;

// NOTE: driver initialization and setup is assumed before this block
// WebDriver driver = new ChromeDriver();
// driver.get("https://example.com");

((JavascriptExecutor) driver).executeScript("window.open('https://google.com')");
Set&lt;String&gt; windowHandles = driver.getWindowHandles();
List&lt;String&gt; tabs = new ArrayList&lt;&gt;(windowHandles);

// Switch to the second tab
driver.switchTo().window(tabs.get(1));
System.out.println("Now on: " + driver.getTitle());
// driver.quit(); // Uncomment in full script
                            </pre>
                        </div>
                    </div>
                </article>

                <!-- üïí TOPIC 2: Waits & Synchronization --><article id="topic2" class="content-section bg-slate-800 rounded-xl shadow-xl p-8 fade-in hover-glow border border-slate-700">
                    <h3 class="text-2xl font-bold mb-4 text-cyan-400">2Ô∏è‚É£ Waits & Synchronization: Explicit Wait</h3>
                    <p class="text-slate-300 mb-6">
                        <strong>Explicit Waits</strong> are critical for stable tests, forcing Selenium to wait for a <strong>specific condition</strong> (like element visibility or clickability) to be met before proceeding, which eliminates common <code class="bg-slate-700 rounded p-1 text-red-300">StaleElementReferenceException</code> issues.
                    </p>

                    <div class="grid lg:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold text-slate-200 mb-3">Python Example (Visibility Check)</h4>
                            <pre class="bg-slate-950 text-emerald-300 text-sm p-4 rounded-lg overflow-x-auto border border-slate-700/50">
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.common.by import By
# NOTE: driver is assumed to be initialized

# Wait for up to 10 seconds
wait = WebDriverWait(driver, 10)

# driver.get("https://example.com/async") # Uncomment in full script
element = wait.until(
    EC.visibility_of_element_located((By.ID, "username"))
)
element.send_keys("admin")
                            </pre>
                        </div>

                        <div>
                            <h4 class="font-semibold text-slate-200 mb-3">Java Example (Clickability Check)</h4>
                            <pre class="bg-slate-950 text-emerald-300 text-sm p-4 rounded-lg overflow-x-auto border border-slate-700/50">
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;
import org.openqa.selenium.WebElement;
import java.time.Duration;
import org.openqa.selenium.By;

// NOTE: driver is assumed to be initialized
WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(15));
WebElement button = wait.until(
  ExpectedConditions.elementToBeClickable(By.cssSelector(".save-btn"))
);
button.click();
                            </pre>
                        </div>
                    </div>
                </article>

                <!-- üß± TOPIC 3: Page Object Model (POM) --><article id="topic3" class="content-section bg-slate-800 rounded-xl shadow-xl p-8 fade-in hover-glow border border-slate-700">
                    <h3 class="text-2xl font-bold mb-4 text-cyan-400">3Ô∏è‚É£ Page Object Model (POM)</h3>
                    <p class="text-slate-300 mb-6">
                        The <strong>Page Object Model (POM)</strong> is the industry-standard design pattern. It separates the <span class="font-bold text-cyan-400">Page Objects</span> (locators and actions) from the <span class="font-bold text-cyan-400">Test Logic</span>. This separation makes tests reusable and dramatically reduces maintenance efforts.
                    </p>

                    <div class="grid lg:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold text-slate-200 mb-3">Python Example (LoginPage Class)</h4>
                            <pre class="bg-slate-950 text-emerald-300 text-sm p-4 rounded-lg overflow-x-auto border border-slate-700/50">
from selenium.webdriver.common.by import By

class LoginPage:
    def __init__(self, driver):
        self.driver = driver
        # Use tuples for locators (By type, locator value)
        self.USERNAME_FIELD = (By.ID, "username")
        self.PASSWORD_FIELD = (By.ID, "password")
        self.LOGIN_BTN = (By.ID, "loginBtn")

    def login(self, user, pwd):
        # Unpack the locator tuple with the * operator
        self.driver.find_element(*self.USERNAME_FIELD).send_keys(user)
        self.driver.find_element(*self.PASSWORD_FIELD).send_keys(pwd)
        self.driver.find_element(*self.LOGIN_BTN).click()
                            </pre>
                        </div>

                        <div>
                            <h4 class="font-semibold text-slate-200 mb-3">Java Example (LoginPage Class)</h4>
                            <pre class="bg-slate-950 text-emerald-300 text-sm p-4 rounded-lg overflow-x-auto border border-slate-700/50">
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;

public class LoginPage {
  private WebDriver driver;
  // Define locators as private By objects
  private By username = By.id("username");
  private By password = By.id("password");
  private By loginBtn = By.id("loginBtn");

  public LoginPage(WebDriver driver) { this.driver = driver; }

  public void login(String user, String pwd) {
    driver.findElement(username).sendKeys(user);
    driver.findElement(password).sendKeys(pwd);
    driver.findElement(loginBtn).click();
  }
}
                            </pre>
                        </div>
                    </div>
                </article>

                <!-- üßæ TOPIC 4: Data-Driven Testing --><article id="topic4" class="content-section bg-slate-800 rounded-xl shadow-xl p-8 fade-in hover-glow border border-slate-700">
                    <h3 class="text-2xl font-bold mb-4 text-cyan-400">4Ô∏è‚É£ Data-Driven Testing (DDT)</h3>
                    <p class="text-slate-300 mb-6">
                        <strong>DDT</strong> involves running the same test script against a variety of inputs retrieved from an <strong>external source</strong> (CSV, Excel, JSON). This significantly increases test coverage without duplicating code.
                    </p>

                    <div class="grid lg:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold text-slate-200 mb-3">Python Example (Reading CSV)</h4>
                            <pre class="bg-slate-950 text-emerald-300 text-sm p-4 rounded-lg overflow-x-auto border border-slate-700/50">
import csv
# Test case execution logic
def run_login_tests():
    # Assuming data.csv structure: username,password
    # NOTE: File 'data.csv' must exist in the execution path
    try:
        with open('data.csv', newline='') as file:
            reader = csv.reader(file)
            # next(reader) # Uncomment to Skip header row
            for row in reader:
                username, password = row
                # 1. Instantiate browser (e.g., driver = webdriver.Chrome())
                # 2. Instantiate page object (e.g., loginPage = LoginPage(driver))
                # 3. Call POM login method: loginPage.login(username, password)
                # 4. Assert result
                print(f"Testing login for: {username}")
    except FileNotFoundError:
        print("Error: data.csv not found.")

# run_login_tests() # Uncomment in full script
                            </pre>
                        </div>

                        <div>
                            <h4 class="font-semibold text-slate-200 mb-3">Java Example (Reading File)</h4>
                            <pre class="bg-slate-950 text-emerald-300 text-sm p-4 rounded-lg overflow-x-auto border border-slate-700/50">
import java.io.*;

public void executeDataDrivenTests() {
  // NOTE: File 'data.txt' must exist in the execution path
  try (BufferedReader br = new BufferedReader(new FileReader("data.txt"))) {
    String line;
    // Reads file line by line
    while ((line = br.readLine()) != null) {
      String[] data = line.split(":"); // Use a delimiter (e.g., username:password)
      if (data.length == 2) {
          String user = data[0];
          String pass = data[1];
          System.out.println("Testing with: " + user);
          // Call POM methods with data
      }
    }
  } catch (IOException e) {
    e.printStackTrace(); // Log the file error
  }
}
                            </pre>
                        </div>
                    </div>
                </article>

                <!-- ‚öôÔ∏è TOPIC 5: Framework Concepts --><article id="topic5" class="content-section bg-slate-800 rounded-xl shadow-xl p-8 fade-in hover-glow border border-slate-700">
                    <h3 class="text-2xl font-bold mb-4 text-cyan-400">5Ô∏è‚É£ Automation Framework Concepts</h3>
                    <p class="text-slate-300 mb-6">
                        A <strong>Framework</strong> is a set of guidelines, tools, and best practices used to create and manage test automation assets. A good framework provides:
                    </p>

                    <ul class="list-disc list-inside text-slate-300 mb-6 ml-4 space-y-2">
                        <li><strong>Reusability:</strong> Code is written once and used many times (e.g., utility functions).</li>
                        <li><strong>Consistency:</strong> Standardized naming conventions and folder structures.</li>
                        <li><strong>Scalability:</strong> The ability to add new tests and features without breaking existing ones.</li>
                        <li><strong>Reporting & Logging:</strong> Centralized systems for execution analysis.</li>
                    </ul>

                    <h4 class="font-semibold text-slate-200 mb-3">Example Project Structure (Best Practice)</h4>
                    <pre class="bg-slate-950 text-emerald-300 text-sm p-4 rounded-lg overflow-x-auto border border-slate-700/50">
project-root/
‚îú‚îÄ‚îÄ tests/         # Test scripts (e.g., test_suite_1.py)
‚îú‚îÄ‚îÄ pages/         # Page Object Model classes (the "what" to test)
‚îú‚îÄ‚îÄ utilities/     # Helper functions (e.g., database, file I/O)
‚îú‚îÄ‚îÄ resources/     # Test data files (CSV, JSON) and config files
‚îú‚îÄ‚îÄ drivers/       # Browser drivers (chromedriver, geckodriver)
‚îî‚îÄ‚îÄ README.md      # Documentation and execution instructions
                    </pre>
                </article>

                <!-- üß© TOPIC 6: Pytest / TestNG Basics --><article id="topic6" class="content-section bg-slate-800 rounded-xl shadow-xl p-8 mt-8 mb-12 fade-in hover-glow border border-slate-700">
                    <h3 class="text-2xl font-bold mb-4 text-cyan-400">6Ô∏è‚É£ Pytest / TestNG: Setup & Teardown</h3>
                    <p class="text-slate-300 mb-6">
                        Modern test runners like <strong>Pytest</strong> (Python) and <strong>TestNG</strong> (Java) manage the test lifecycle using specialized functions (<strong>Fixtures</strong> in Pytest, <strong>Annotations</strong> in TestNG) for controlled setup and cleanup.
                    </p>

                    <div class="grid lg:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold text-slate-200 mb-3">Python (Pytest Fixture with <code class="bg-slate-700 rounded p-1 text-red-300">yield</code>)</h4>
                            <p class="text-xs text-slate-400 mb-2 italic">The code before <code class="bg-slate-700 rounded p-1 text-red-300">yield</code> is Setup, and the code after is Teardown.</p>
                            <pre class="bg-slate-950 text-emerald-300 text-sm p-4 rounded-lg overflow-x-auto border border-slate-700/50">
import pytest
from selenium import webdriver

# scope="session" runs once per test run
@pytest.fixture(scope="session")
def browser_setup():
    print("--- ‚öôÔ∏è LAUNCH BROWSER INSTANCE ---")
    # In a real script, this creates the browser instance
    # driver = webdriver.Chrome()
    # driver.implicitly_wait(10)
    driver = "MOCKED_DRIVER_INSTANCE" # Mocked for display
    yield driver # <-- Execution pauses here for test code to run
    # Teardown logic after the test
    print("--- ‚ùå CLOSING BROWSER INSTANCE ---")
    # driver.quit() # Uncomment in full script

# Test method receives the fixture output
def test_search_feature(browser_setup):
    driver = browser_setup
    # driver.get("https://duckduckgo.com") # Uncomment in full script
    # ... test actions
    print(f"Running test with {driver}")
    assert True
                            </pre>
                        </div>

                        <div>
                            <h4 class="font-semibold text-slate-200 mb-3">Java Example (TestNG <code class="bg-slate-700 rounded p-1 text-red-300">@BeforeClass</code>/<code class="bg-slate-700 rounded p-1 text-red-300">@AfterClass</code>)</h4>
                            <p class="text-xs text-slate-400 mb-2 italic">Annotations control when setup and teardown methods are executed.</p>
                            <pre class="bg-slate-950 text-emerald-300 text-sm p-4 rounded-lg overflow-x-auto border border-slate-700/50">
import org.testng.annotations.*;
import org.openqa.selenium.WebDriver;
// import org.openqa.selenium.chrome.ChromeDriver;

public class BaseTest {
    public WebDriver driver;

    @BeforeClass // Runs once before any test method in this class
    public void setup() {
      System.out.println("--- ‚öôÔ∏è LAUNCH BROWSER ---");
      // driver = new ChromeDriver(); // Uncomment in full script
    }

    @Test
    public void executeTest() {
      // driver.get("https://example.com"); // Uncomment in full script
      System.out.println("Executing actual test logic.");
      // Test assertions go here
    }

    @AfterClass // Runs once after all test methods in this class
    public void teardown() {
      System.out.println("--- ‚ùå CLOSING BROWSER ---");
      // driver.quit(); // Uncomment in full script
    }
}
                            </pre>
                        </div>
                    </div>
                </article>
            </div>



    </main>

    <footer class="max-w-screen-2xl mx-auto mt-12 pt-6 border-t border-gray-700 text-center text-gray-400 p-4 sm:p-8">
    <p>&copy; 2025 QA Smart Hub. All rights reserved. | Built for modern Quality Assurance.</p>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const backBtn = document.getElementById("back-btn");
      const menuBtn = document.getElementById("menu-btn");
      const sideNav = document.getElementById("side-nav");
      const backdrop = document.getElementById("backdrop");

      backBtn.addEventListener("click", () => {
        if (window.history.length > 1) window.history.back();
        else alert("No previous page.");
      });

      menuBtn.addEventListener("click", () => {
        sideNav.classList.add("active");
        backdrop.style.display = "block";
      });

      backdrop.addEventListener("click", () => {
        sideNav.classList.remove("active");
        backdrop.style.display = "none";
      });

      document.querySelectorAll('#side-nav a').forEach(link => {
        link.addEventListener('click', e => {
          e.preventDefault();
          const target = document.querySelector(link.getAttribute('href'));
          if (target) {
            sideNav.classList.remove("active");
            backdrop.style.display = "none";
            target.scrollIntoView({ behavior: 'smooth' });
          }
        });
      });

      // Scroll highlight
      window.addEventListener("scroll", () => {
        let fromTop = window.scrollY + 100;
        document.querySelectorAll('#side-nav a').forEach(link => {
          const section = document.querySelector(link.hash);
          if (section.offsetTop <= fromTop && section.offsetTop + section.offsetHeight > fromTop) {
            link.classList.add("active");
          } else {
            link.classList.remove("active");
          }
        });
      });
    });
  </script>

</body>
</html>

{% endblock %}